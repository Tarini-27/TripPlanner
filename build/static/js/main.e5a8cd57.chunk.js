(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/illustration-4.d1bb1388.jpg"},131:function(e,t,a){e.exports=a.p+"static/media/peach-bg.1a66193d.jpg"},149:function(e,t,a){e.exports=a.p+"static/media/peach-watercolor-texture-background.774d0b68.jpg"},154:function(e,t,a){e.exports=a(233)},159:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),s=a(14),i=(a(159),a(32)),o=(a(160),a(16)),m=(a(161),a(239)),u=a(240),d=a(241),p=a(46);function h(e){var t=e.isLogin,a=e.changeLoginStatus,n=Object(o.f)();return r.a.createElement(m.a,{expand:"lg"},r.a.createElement(m.a.Brand,{onClick:function(e){return n.push("/")}},r.a.createElement(p.e,null),"Trip Planner"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement("div",{className:"blank-header"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(u.a,{inline:!0},r.a.createElement(d.a,{className:"mr-auto"},!t&&r.a.createElement(d.a.Link,{onClick:function(e){return n.push("/signin")}},"Login"),r.a.createElement(d.a.Link,{onClick:function(e){return n.push("/profile")}},r.a.createElement(p.h,null)),t&&r.a.createElement(d.a.Link,{onClick:function(){localStorage.clear(),a(!1),n.push("/")}},"Logout")))))}var f=a(237),E=a(10),v=a(11),g=a(13),b=a(12),N=a(242),y=a(72),w=a.n(y),x=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),w.a.post("/signin",{email:e.state.email,password:e.state.password}).then((function(e){return e.data.accessToken&&(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("accessToken",JSON.stringify(e.data.accessToken))),e.data})).then((function(t){console.log(t),N.b.success("Login succeed!"),e.props.history.push("/"),e.props.changeLoginStatus(!0)})).catch((function(e){console.error(e),N.b.error("Login failed.")}))},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"outer"},r.a.createElement("div",{className:"inner"},r.a.createElement("form",null,r.a.createElement("h3",null,"Log in"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember me"))),r.a.createElement("button",{className:"btn btn-dark btn-lg btn-block",onClick:function(t){return e.handleSubmit(t)}},"Sign in"),r.a.createElement("div",{className:"row"},r.a.createElement(s.b,{to:"/signup",className:"col-6 register"}," Register "))))))}}]),a}(n.Component),_=Object(o.h)(x),j=function(e){return fetch("/signup",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}})},O=function(e){var t=JSON.parse(localStorage.getItem("accessToken"));console.log("client side update file user ->",t),fetch("/profile",{method:"PUT",body:JSON.stringify(e),headers:{"x-access-token":t,"content-type":"application/json"}}).then((function(e){return console.log(e)}))},S=function(e){return fetch("/api/public-profile/".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))},k=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={fName:"",lName:"",email:"",password:"",role:"Traveler"},e.handleClick=function(t){t.preventDefault();var a={fName:e.state.fName,lName:e.state.lName,email:e.state.email,password:e.state.password,role:e.state.role};j(a).then((function(e){if(console.log(e),e.ok)return e.text();throw new Error(e.statusText)})).then((function(t){console.log(t),N.b.success("Registration succeed!"),e.props.history.push("/signin")})).catch((function(e){console.error(e),N.b.error("Registration failed.")}))},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"outer"},r.a.createElement("div",{className:"inner"},r.a.createElement("form",null,r.a.createElement("h3",null,"Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First name"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"First name",onChange:function(t){return e.setState({fName:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last name"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:function(t){return e.setState({lName:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("span",{className:"form-group"},r.a.createElement("label",null,"Register as"),r.a.createElement("select",{className:"form-control-sm user-role float-right",onChange:function(t){return e.setState({role:t.target.value})},value:this.state.role},r.a.createElement("option",{value:"Traveler"},"Traveler"),r.a.createElement("option",{value:"Admin"},"Admin"))),r.a.createElement("button",{className:"btn btn-dark btn-lg btn-block",onClick:function(t){return e.handleClick(t)}},"Register"),r.a.createElement("p",{className:"forgot-password text-right"},"Already registered, go back to ",r.a.createElement(s.b,{to:"/signin"}," log in "))))))}}]),a}(n.Component),I=a(18),C=a(84),P=a.n(C),T=function(){return fetch("/api/allplans").then((function(e){return e.json()}))},L=function(e){return fetch("/api/plans/".concat(e)).then((function(e){return e.json()}))},A=function(e){return fetch("/api/user/".concat(e,"/plans")).then((function(e){return e.json()}))},B=function(e,t){return fetch("/plans",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}})},D=function(e,t){return fetch("/plans/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},J=function(e){return fetch("/plans/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},z=a(99),R=a.n(z),U=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={planBeingEdited:!1,plan:e.props.plan},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"articles__article"},r.a.createElement("div",{className:"articles__link"},r.a.createElement("div",{className:"articles__content articles__content--lhs"},this.state.planBeingEdited&&r.a.createElement("input",{className:"form-control wbdv-high-index",value:this.state.plan.name,onChange:function(t){var a=t.target.value;e.setState((function(e){return{plan:Object(I.a)(Object(I.a)({},e.plan),{},{name:a})}}))}}),!this.state.planBeingEdited&&r.a.createElement(s.b,{className:"articles__title wbdv-high-index",to:"/user/".concat(this.state.plan.user,"/plans/").concat(this.state.plan._id)},this.state.plan.name),r.a.createElement("img",{src:R.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},!this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.setState({planBeingEdited:!0})},className:"btn btn-light col-lg-5"},"Edit Title"),!this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.props.deletePlan(e.state.plan._id)},className:"btn btn-light col-lg-4"},"Delete"),this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.props.updatePlan(e.state.plan._id,e.state.plan).then(e.setState({planBeingEdited:!1}))},className:"btn btn-light btn-block"},r.a.createElement(p.d,{size:28})))),r.a.createElement("div",{className:"articles__content articles__content--rhs","aria-hidden":"true"},this.state.planBeingEdited&&r.a.createElement("input",{className:"form-control wbdv-high-index",value:this.state.plan.name,onChange:function(t){var a=t.target.value;e.setState((function(e){return{plan:Object(I.a)(Object(I.a)({},e.plan),{},{name:a})}}))}}),!this.state.planBeingEdited&&r.a.createElement(s.b,{className:"articles__title wbdv-high-index",to:"/user/".concat(this.state.plan.user,"/plans/").concat(this.state.plan._id)},this.state.plan.name),r.a.createElement("img",{src:R.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},!this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.setState({planBeingEdited:!0})},className:"btn btn-light col-lg-5"},"Edit Title"),!this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.props.deletePlan(e.state.plan._id)},className:"btn btn-light col-lg-4"},"Delete"),this.state.planBeingEdited&&r.a.createElement("button",{onClick:function(){return e.props.updatePlan(e.state.plan._id,e.state.plan).then(e.setState({planBeingEdited:!1}))},className:"btn btn-light btn-block"},r.a.createElement(p.d,{size:28}))))))}}]),a}(n.Component),M=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isLogin:null!==localStorage.getItem("accessToken"),currUser:JSON.parse(localStorage.getItem("user")),fName:null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).fName:"",lName:null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).lName:"",password:null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).password:"",text:null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).text:"",plans:[]},e.loadPlans=function(t){A(t).then((function(t){return e.setState({plans:t})}))},e.updatePlan=function(t,a){return D(t,a).then((function(t){return e.loadPlans()}))},e.deletePlan=function(t){return J(t).then((function(){return e.setState((function(e){return{plans:e.plans.filter((function(e){return e._id!==t}))}}))}))},e.handleClick=function(t){t.preventDefault();var a=Object(I.a)(Object(I.a)({},e.state.currUser),{},{fName:e.state.fName,lName:e.state.lName,password:e.state.password,text:e.state.text});console.log("update user -> ",a),O(a),localStorage.setItem("user",JSON.stringify(a)),console.log(JSON.parse(localStorage.getItem("user")))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.state.currUser&&this.loadPlans(this.state.currUser._id),console.log(this.state.plans)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.state.isLogin&&r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header mb-2"},"Edit Profile"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"e-profile"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-auto mb-3"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center rounded"},r.a.createElement("img",{className:"rounded-circle",src:P.a,alt:"name",height:"110",width:"110"})))),r.a.createElement("div",{className:"col d-flex flex-column flex-sm-row justify-content-between mb-3"},r.a.createElement("div",{className:"text-center text-sm-left mb-2 mb-sm-0"},r.a.createElement("h4",{className:"pt-sm-2 pb-1 mb-0 text-nowrap"},this.state.fName," ",this.state.lName)),r.a.createElement("div",{className:"text-center text-sm-right"},r.a.createElement("span",{className:"badge badge-secondary"},this.state.currUser.role)))),r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"active nav-link"},"Settings"))),r.a.createElement("div",{className:"tab-content pt-3"},r.a.createElement("div",{className:"tab-pane active"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:function(t){return e.setState({fName:t.target.value})},value:this.state.fName}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:function(t){return e.setState({lName:t.target.value})},value:this.state.lName})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:"form-control",type:"text",value:this.state.currUser.email,readOnly:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"About"),r.a.createElement("textarea",{className:"form-control",rows:"5",placeholder:"My Bio",onChange:function(t){return e.setState({text:t.target.value})},value:this.state.text})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("b",null,"Change Password")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"New Password"),r.a.createElement("input",{className:"form-control",type:"password",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022"})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.handleClick(t)}},"Save Changes"))))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header mb-2"},"My Plans"),r.a.createElement("div",{className:"card-body"},r.a.createElement("ol",{className:"articles"},this.state.plans&&this.state.plans.map((function(t){return r.a.createElement(U,{key:t._id,plan:t,deletePlan:e.deletePlan,updatePlan:e.updatePlan})})))))),!this.state.isLogin&&r.a.createElement("div",null,"Please log in! ",this.props.history.push("/signin")))}}]),a}(n.Component),F=a(100),q=a.n(F),Z=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={plan:e.props.plan,user:{}},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.plan.user&&S(this.state.plan.user).then((function(t){return e.setState({user:t})}))}},{key:"render",value:function(){return r.a.createElement("li",{className:"articles__article"},r.a.createElement(s.b,{className:"articles__link",to:"/plan-forum/".concat(this.state.plan._id)},r.a.createElement("div",{className:"articles__content articles__content--lhs"},r.a.createElement("h2",{className:"articles__title wbdv-high-index"},this.state.plan.name),r.a.createElement("img",{src:q.a,alt:"illus",className:"wbdv-fixed-img-1"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("h5",{className:"text-center wbdv-high-index"},"By: ",this.state.user.fName," ",this.state.user.lName))),r.a.createElement("div",{className:"articles__content articles__content--rhs","aria-hidden":"true"},r.a.createElement("h2",{className:"articles__title wbdv-high-index"},this.state.plan.name),r.a.createElement("img",{src:q.a,alt:"illus",className:"wbdv-fixed-img-1"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("h5",{className:"text-center wbdv-high-index"},"By: ",this.state.user.fName," ",this.state.user.lName)))))}}]),a}(n.Component),W=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={userId:e.props.match.params.uid,user:{},plans:[]},e.loadPlans=function(t){A(t).then((function(t){return e.setState({plans:t})}))},e.findUserById=function(t){S(t).then((function(t){return e.setState({user:t})}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.loadPlans(this.state.userId),console.log(this.state.userId),console.log(this.state.plans),this.findUserById(this.state.userId),console.log(this.state.user)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header mb-2"},"My Space"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"e-profile"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-auto mb-3"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center rounded"},r.a.createElement("img",{className:"rounded-circle",src:P.a,alt:"name",height:"110",width:"110"})))),r.a.createElement("div",{className:"col d-flex flex-column flex-sm-row justify-content-between mb-3"},r.a.createElement("div",{className:"text-center text-sm-left mb-2 mb-sm-0"},r.a.createElement("h4",{className:"pt-sm-2 pb-1 mb-0 text-nowrap"},this.state.user.fName," ",this.state.user.lName),r.a.createElement("p",{className:"mb-0"},this.state.user.text))))),r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"active nav-link"},"Plans"))),r.a.createElement("div",{className:"tab-content pt-3"},r.a.createElement("div",{className:"tab-pane active"},r.a.createElement("ol",{className:"articles"},this.state.plans&&this.state.plans.map((function(e){return r.a.createElement(Z,{key:e._id,plan:e})}))))))))}}]),a}(n.Component),H=a(41),K=a.n(H),Y=a(52),V=a(67),$=a.n(V),G=a(131),Q=a.n(G),X=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isLogin:null!==localStorage.getItem("user"),plans:[],userId:e.props.match.params.uid,userRole:""},e.updatePlan=function(t,a){return D(t,a).then((function(){return e.setState((function(e){return{plans:e.plans.filter((function(e){return e._id===t?a:e}))}}))}))},e.createNewPlan=function(t){var a={name:"New Plan",user:e.state.userId};B(t,a).then(e.loadPlans)},e.createNewPlanaAdmin=function(t){var a={name:"New Plan",user:e.state.userId};B(t,a).then(e.loadPlansAdmin)},e.loadPlansAdmin=function(){T().then((function(t){return e.setState({plans:t})}))},e.loadPlans=function(){A(e.state.userId).then((function(t){return e.setState({plans:t})}))},e.deletePlan=function(t){return J(t).then((function(){return e.setState((function(e){return{plans:e.plans.filter((function(e){return e._id!==t}))}}))}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isLogin){e.next=6;break}return e.next=3,JSON.parse(localStorage.getItem("user")).role;case 3:t=e.sent,this.setState({userRole:t}),"Admin"===this.state.userRole?this.loadPlansAdmin():this.loadPlans(this.state.userId);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-card-body",style:{backgroundImage:"url(".concat(Q.a,")")}},!this.state.isLogin&&r.a.createElement("div",null,"Please log in! ",this.props.history.push("/signin")),r.a.createElement("h1",{className:"h1 text-center py-4 articles__title text-white"},r.a.createElement("em",null,"\u201cWe travel, some of us forever, to seek other places, other lives, other souls.\u201d \u2013 Anais Nin")),"Admin"===this.state.userRole&&r.a.createElement("h3",{className:"h3 text-center pb-5 articles__title text-white"},r.a.createElement("em",{className:"border border-light p-2"},"You are viewing as ",r.a.createElement("span",{className:"font-weight-bold"},"ADMIN"))),r.a.createElement("ol",{className:"articles"},"Admin"!==this.state.userRole&&r.a.createElement("li",{className:"articles__article"},r.a.createElement("button",{onClick:function(){return e.createNewPlan(e.state.userId)},className:"articles__link"},r.a.createElement("div",{className:"articles__content articles__content--lhs"},r.a.createElement("h2",{className:"articles__title"},"Create a new plan"),r.a.createElement("img",{src:$.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("p",{className:"text-center wbdv-card-text"},r.a.createElement("em",null,"Live to travel and travel to live")))),r.a.createElement("div",{className:"articles__content articles__content--rhs","aria-hidden":"true"},r.a.createElement("h2",{className:"articles__title"},"Create a new trip"),r.a.createElement("img",{src:$.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("p",{className:"text-center wbdv-card-text"},r.a.createElement("em",null,"Live to travel and travel to live")))))),"Admin"===this.state.userRole&&r.a.createElement("li",{className:"articles__article"},r.a.createElement("button",{onClick:function(){return e.createNewPlanaAdmin(e.state.userId)},className:"articles__link"},r.a.createElement("div",{className:"articles__content articles__content--lhs"},r.a.createElement("h2",{className:"articles__title"},"Create a new plan"),r.a.createElement("img",{src:$.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("p",{className:"text-center wbdv-card-text"},r.a.createElement("em",null,"Live to travel and travel to live")))),r.a.createElement("div",{className:"articles__content articles__content--rhs","aria-hidden":"true"},r.a.createElement("h2",{className:"articles__title"},"Create a new trip"),r.a.createElement("img",{src:$.a,alt:"illus",className:"wbdv-fixed-img"}),r.a.createElement("div",{className:"articles__footer"},r.a.createElement("p",{className:"text-center wbdv-card-text"},r.a.createElement("em",null,"Live to travel and travel to live")))))),this.state.plans&&this.state.plans.map((function(t){return r.a.createElement(U,{key:t._id,plan:t,deletePlan:e.deletePlan,updatePlan:e.updatePlan})}))))}}]),a}(r.a.Component),ee=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={beingEdited:!1,trip:e.props.trip},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"wbdv-td-item text-center justify-content-center align-content-center"},!this.state.beingEdited&&r.a.createElement("ul",{className:"wbdv-td-headline"},this.state.trip.places&&this.state.trip.places.map((function(e,t){return r.a.createElement("li",{className:"d-block my-1",key:t},e)}))),this.state.beingEdited&&r.a.createElement("textarea",{className:"form-control wbdv-td-headline",value:this.state.trip.places,onChange:function(t){var a=t.target.value.split(",");e.setState((function(e){return{trip:Object(I.a)(Object(I.a)({},e.trip),{},{places:a})}}))}}),!this.state.beingEdited&&r.a.createElement("span",null,this.state.trip.date),this.state.beingEdited&&r.a.createElement("input",{className:"form-control",value:this.state.trip.date,type:"date",onChange:function(t){var a=t.target.value;console.log(a),e.setState((function(e){return{trip:Object(I.a)(Object(I.a)({},e.trip),{},{date:a})}}))}}),r.a.createElement("div",null,!this.state.beingEdited&&r.a.createElement("div",{className:"mt-4 text-right"},r.a.createElement("button",{className:"btn wbdv-td-table-btn mr-3",onClick:function(){return e.setState({beingEdited:!0})}},"Edit"),r.a.createElement("button",{className:"btn wbdv-td-table-btn text-center",onClick:function(){return e.props.deleteTrip(e.state.trip._id)}},"Delete")),this.state.beingEdited&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn wbdv-td-table-btn mt-3 btn-block",onClick:function(){return e.props.updateTrip(e.state.trip._id,e.state.trip).then(e.setState({beingEdited:!1}))}},r.a.createElement(p.d,{size:20})))),r.a.createElement("hr",null))}}]),a}(n.Component),te=function(e){return fetch("/plans/".concat(e,"/trips")).then((function(e){return e.json()}))},ae=function(e,t){return fetch("/plans/".concat(e,"/trips"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},ne=function(e,t){return fetch("/trips/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},re=function(e){return fetch("/trips/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},le=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trip:{day:e.props.size,date:"",places:[""],_plan:e.props.planId}},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"wbdv-from_field-container mb-4"},r.a.createElement("div",{className:"form__group field"},r.a.createElement("input",{type:"number",className:"form__field",id:"InputDay",min:1,readOnly:!0,value:this.state.trip.day,placeholder:"Enter Day",onChange:function(t){return e.setState((function(e){return{trip:Object(I.a)(Object(I.a)({},e.trip),{},{day:t.target.value})}}))}}),r.a.createElement("label",{className:"form__label",htmlFor:"InputDay"},"Day")),r.a.createElement("div",{className:"form__group field"},r.a.createElement("input",{type:"text",className:"form__field",id:"InputDate",value:this.state.trip.date,placeholder:"2021-02-02",onChange:function(t){return e.setState((function(e){return{trip:Object(I.a)(Object(I.a)({},e.trip),{},{date:t.target.value})}}))}}),r.a.createElement("label",{className:"form__label",htmlFor:"InputDate"},"Date(e.g. 2021-02-25)")),r.a.createElement("div",{className:"form__group field"},r.a.createElement("input",{type:"text",className:"form__field",id:"InputPlace",value:this.state.trip.places,placeholder:"Please split by ',' Example: Boston, Harvard",onChange:function(t){return e.setState((function(e){return{trip:Object(I.a)(Object(I.a)({},e.trip),{},{places:t.target.value.split(",")})}}))}}),r.a.createElement("label",{className:"form__label",htmlFor:"InputPlace"},"Places(e.g. Boston, Cambridge)"))),r.a.createElement("button",{type:"submit",className:"btn wbdv-td-table-btn btn-block",onClick:function(){return e.props.createTrip(e.props.planId,e.state.trip).then(e.setState({trip:{day:e.props.size,date:"",places:[],_plan:e.props.planId}}))}},"Submit"))}}]),a}(r.a.Component),ce=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).loadTrips=function(){te(e.state.planId).then((function(t){return e.setState({trips:t})})).then((function(t){return e.setState({loaded:!1})})).then((function(t){return e.setState({loaded:!0})}))},e.deleteTrip=function(t){return re(t).then((function(t){return e.loadTrips()}))},e.updateTrip=function(e,t){return ne(e,t)},e.createTrip=function(t,a){return ae(t,a).then((function(t){return e.loadTrips()}))},e.state={loaded:!1,trips:[],planId:e.props.planId},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.loadTrips()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"wbdv-td-table-body-container"},r.a.createElement("ol",{className:"wbdv-td-list"},this.state.loaded&&this.state.trips.map((function(t){return r.a.createElement(ee,{key:t._id,trip:t,updateTrip:e.updateTrip,deleteTrip:e.deleteTrip})})))),r.a.createElement("h2",{className:"h2 text-center m-2 pb-0 border-bot-3 wbdv-td-headline font-weight-bold text-uppercase"},"Add Trip"),this.state.loaded&&r.a.createElement(le,{createTrip:this.createTrip,planId:this.state.planId,size:this.state.trips.length+1}))}}]),a}(r.a.Component),se=a(89),ie=a(68),oe=a(104),me=function(e){var t=e.placeId,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)("Not Available"),m=Object(i.a)(o,2),u=(m[0],m[1]);Object(n.useEffect)((function(){d()}));var d=function(){var e={placeId:t};new google.maps.places.PlacesService(document.createElement("div")).getDetails(e,(function(e,t){t===google.maps.places.PlacesServiceStatus.OK&&(null!=e.photos&&e.photos.length>0&&s(e.photos[0].getUrl({maxWidth:350,maxHeight:350})),null!=e.reviews&&e.reviews.length>0&&u(e.reviews[0].text))}))};return r.a.createElement(oe.a,null,r.a.createElement(oe.a.Img,{variant:"top",src:c}))},ue=a(91),de=a(63);function pe(e){var t=e.panTo,a=e.setMarkers,n=Object(ue.a)({requestOptions:{location:{lat:function(){return 34.052235},lng:function(){return-118.243683}},radius:1e5}}),l=n.ready,c=n.value,s=n.suggestions,i=s.status,o=s.data,m=n.setValue,u=n.clearSuggestions,d=function(){var e=Object(Y.a)(K.a.mark((function e(n){var r,l,c,s,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(n,!1),u(),e.prev=2,e.next=5,Object(ue.b)({address:n});case 5:return r=e.sent,e.next=8,Object(ue.c)(r[0]);case 8:l=e.sent,c=l.lat,s=l.lng,i=r[0].place_id,t({lat:c,lng:s}),a((function(e){return[].concat(Object(se.a)(e),[{lat:c,lng:s,time:new Date,placeId:i,address:r[0].formatted_address}])})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log("Error: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement(de.a,{onSelect:d},r.a.createElement(de.b,{value:c,onChange:function(e){m(e.target.value)},disabled:!l,placeholder:"Search your location"}),r.a.createElement(de.e,null,r.a.createElement(de.c,null,"OK"===i&&o.map((function(e){var t=e.id,a=e.description;return r.a.createElement(de.d,{key:t,value:a})}))))))}var he=["places","geometry","drawing"],fe={height:"100vh",width:"95%",top:50},Ee={disableDefaultUI:!0,zoomControl:!0},ve={lat:34.052235,lng:-118.243683},ge=[{latitude:27.9947147,longitude:-82.5943645},{latitude:28.4813018,longitude:-81.4387899},{latitude:29.4813018,longitude:-81.4387899}];function be(){var e=Object(ie.d)({googleMapsApiKey:"AIzaSyBlHhL9EqgJx0ZFIuzc5vn2yUAe96pZhs8",libraries:he}),t=e.isLoaded,a=e.loadError,n=r.a.useState([]),l=Object(i.a)(n,2),c=l[0],s=l[1],o=r.a.useState(null),m=Object(i.a)(o,2),u=m[0],d=m[1],p=r.a.useCallback((function(e){s((function(t){return[].concat(Object(se.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date}])})),ge.push({lat:e.latLng.lat(),lng:e.latLng.lng()})}),[]),h=r.a.useRef(),f=r.a.useCallback((function(e){h.current=e}),[]),E=r.a.useCallback((function(e){var t=e.lat,a=e.lng;h.current.panTo({lat:t,lng:a}),h.current.setZoom(14)}),[]);return a?"Error":t?r.a.createElement("div",null,r.a.createElement("div",{className:"mapContainer"},r.a.createElement(pe,{panTo:E,setMarkers:s}),r.a.createElement(Ne,{panTo:E}),r.a.createElement(ie.a,{id:"map",mapContainerStyle:fe,zoom:8,center:ve,options:Ee,onClick:p,onLoad:f},c.map((function(e){return r.a.createElement(ie.c,{key:"".concat(e.lat,"-").concat(e.lng),position:{lat:e.lat,lng:e.lng},onClick:function(){d(e)}})})),u?r.a.createElement(ie.b,{position:{lat:u.lat,lng:u.lng},onCloseClick:function(){d(null)}},r.a.createElement("div",{style:{width:"18rem"}},r.a.createElement(me,{placeId:u.placeId}),r.a.createElement("h5",null,u.address))):null))):"Loading..."}function Ne(e){var t=e.panTo;return r.a.createElement("button",{className:"locate",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){t({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(){return null}))}},r.a.createElement("img",{src:"/compass.svg",alt:"compass"}))}var ye=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={plan:{},planId:e.props.match.params.planId,isLogin:null!==localStorage.getItem("user"),userId:"",userRole:"",planOwner:{}},e.loadPlan=function(){L(e.state.planId).then((function(t){return e.setState({plan:t})})).then((function(t){return S(e.state.plan.user)})).then((function(t){return e.setState({planOwner:t})}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.state.isLogin&&(this.loadPlan(),this.setState({userId:JSON.parse(localStorage.getItem("user"))._id}),this.setState({userRole:JSON.parse(localStorage.getItem("user")).role}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"row container-fluid"},!this.state.isLogin&&r.a.createElement("div",null,"Please log in! ",this.props.history.push("/signin")),this.state.plan.user&&"Admin"!==this.state.userRole&&this.state.userId!==this.state.plan.user&&r.a.createElement("div",null,"Please log in! ",this.props.history.push("/plan-error")),r.a.createElement("div",{className:"col-md-6 col-lg-5 border-right min-vh-100"},r.a.createElement("span",{className:"p-2"},r.a.createElement("span",null,r.a.createElement(s.b,{className:"btn wbdv-td-peachy border-0 m-1 wbdv-fixed-btn wbdv-high-index",to:"/user/".concat(this.state.userId,"/plans")},r.a.createElement(p.a,{size:28})),r.a.createElement("h1",{className:"h2 text-center m-2 pb-0 wbdv-td-headline font-weight-bold text-uppercase"},this.state.plan.name),r.a.createElement("h4",{className:"h4 text-center m-2 pb-0 border-bot-3 wbdv-td-headline font-weight-bold text-uppercase"},"By: ",r.a.createElement(s.b,{to:"/public-profile/".concat(this.state.plan.user)},this.state.planOwner.lName," ",this.state.planOwner.fName))),r.a.createElement(ce,{planId:this.state.planId}))),r.a.createElement("div",{className:"col-md-6 col-lg-7"},r.a.createElement(f.a,{fluid:!0,style:{height:"100vh"}},r.a.createElement(be,null))))}}]),a}(r.a.Component),we=a(238);function xe(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(o.g)().searchText,m=function(e){return fetch("/api/places?searchText=".concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){void 0!==c&&null!==c||(c="Boston"),function(){var e=Object(Y.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,m(c);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]),r.a.createElement(we.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:5},dataSource:a,renderItem:function(e){return r.a.createElement(we.b.Item,{className:"placelist-info-container",key:e.name,extra:r.a.createElement("img",{width:280,src:(t=e.photos[0].photo_reference,"https://maps.googleapis.com/maps/api/place/photo?photoreference=".concat(t,"&key=AIzaSyBlHhL9EqgJx0ZFIuzc5vn2yUAe96pZhs8&maxheight=260&maxwidth=260")),alt:"..."})},r.a.createElement(s.b,{to:"/results/".concat(e.place_id)},r.a.createElement("h4",null,e.name),r.a.createElement("h5",null,"Address: ",e.vicinity),r.a.createElement("h5",null,"Rating: ",e.rating)));var t}})}function _e(){var e=null===JSON.parse(localStorage.getItem("user"))?"234":JSON.parse(localStorage.getItem("user"))._id;return r.a.createElement("nav",{className:"nav nav-pills nav-justified"},r.a.createElement(s.b,{className:"nav-item nav-link pill-item",to:"/plan-forum"},r.a.createElement(p.i,null),"Plan Forums"),r.a.createElement(s.b,{className:"nav-item nav-link pill-item",to:"/user/".concat(e,"/plans"),tabIndex:"-1","aria-disabled":"true"},r.a.createElement(p.c,null),"Travel Plan"))}function je(e){e.updateText;var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],c=a[1],s=Object(o.f)();return r.a.createElement("div",{className:"search-section"},r.a.createElement("div",{id:"cover"},r.a.createElement("div",{className:"tb search-tb"},r.a.createElement("div",{className:"td search-td"},r.a.createElement("input",{value:l,onInput:function(e){return c(e.target.value)},className:"combo-input combo-searchbox",type:"text",placeholder:"Where to?",required:!0})),r.a.createElement("div",{className:"td search-td",id:"s-cover"},r.a.createElement("button",{type:"submit",className:"search-button",onClick:function(e){return t=l,console.log("setting address to: ".concat(t)),void s.push("/search/".concat(t));var t}},r.a.createElement("div",{id:"s-circle"}),r.a.createElement("span",{className:"search-span-stick"}))))))}function Oe(){return r.a.createElement(f.a,null,r.a.createElement(_e,null),r.a.createElement(f.a,{fluid:!0,style:{height:"100vh"}},r.a.createElement(je,null),r.a.createElement(xe,null)))}var Se=function(e){return"https://maps.googleapis.com/maps/api/place/photo?photoreference=".concat(e,"&key=AIzaSyBlHhL9EqgJx0ZFIuzc5vn2yUAe96pZhs8&maxheight=300&maxwidth=300")};function ke(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(o.g)();return Object(n.useEffect)((function(){(function(){var e=Object(Y.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,console.log("getting id ".concat(c.placeId)),fetch("/api/place/".concat(c.placeId)).then((function(e){return e.json()})).then((function(e){return console.log(e.result),e.result})).catch((function(e){return console.log(e)}));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(f.a,null,r.a.createElement("section",{className:"section-medium bg-color"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-white text-center"},r.a.createElement("h2",{className:"section-title "}," ",a.name," "))))),r.a.createElement("div",{className:"container bootstrap snippets bootdeys"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"contact-detail-box"},r.a.createElement(p.g,{size:50,color:"#f16000"}),r.a.createElement("h4",null,"Phone"),r.a.createElement("p",null,a.formatted_phone_number))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"contact-detail-box"},r.a.createElement(p.f,{size:50,color:"#f16000"}),r.a.createElement("h4",null,"Location"),r.a.createElement("address",null,a.formatted_address))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"contact-detail-box"},r.a.createElement(p.b,{size:50,color:"#f16000"}),r.a.createElement("h4",null,"Website"),r.a.createElement("p",null,a.website))))),a.photos&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row form-row align-items-center"},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[0].photo_reference),alt:"...",className:"img-cover"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row form-row align-items-end mb-2"},r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[1].photo_reference),alt:"...",className:"img-cover"}))),r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[2].photo_reference),alt:"...",className:"img-cover"})))),r.a.createElement("div",{className:"row form-row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[3].photo_reference),alt:"...",className:"img-cover"}))),r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[4].photo_reference),alt:"...",className:"img-cover"}))))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"img-square"},r.a.createElement("img",{src:Se(a.photos[5].photo_reference),alt:"...",className:"img-cover"}))))),r.a.createElement("div",{classNameName:"PlaceName"},r.a.createElement("h4",null,"Reviews")),r.a.createElement("div",{className:"row"},a.reviews&&a.reviews.map((function(e){return r.a.createElement("div",{key:e.author_name,className:"col-md-12"},r.a.createElement("div",{className:"media g-mb-30 media-comment"},r.a.createElement("img",{className:"d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15",src:e.profile_photo_url,alt:""}),r.a.createElement("div",{className:"media-body u-shadow-v18 g-bg-secondary g-pa-30"},r.a.createElement("div",{className:"g-mb-15"},r.a.createElement("h5",{className:"h6 g-color-gray-dark-v1 mb-0"},e.author_name),r.a.createElement("span",{className:"g-color-gray-dark-v4 g-font-size-12"},e.relative_time_description)),r.a.createElement("p",{className:"g-font-size-12"},e.text),r.a.createElement("ul",{className:"list-inline d-sm-flex my-0"},r.a.createElement("li",{className:"list-inline-item g-mr-20 g-font-size-12"},"Rating: ",e.rating)))))}))))}function Ie(){return r.a.createElement(f.a,null,r.a.createElement(f.a,{fluid:!0,style:{height:"100vh"}},r.a.createElement(ke,null)))}var Ce=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trip:e.props.trip},e}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{className:"wbdv-td-item text-center"},r.a.createElement("ul",{className:"wbdv-td-headline"},this.state.trip.places&&this.state.trip.places.map((function(e,t){return r.a.createElement("li",{className:"d-block my-1",key:t},e)}))),r.a.createElement("span",null,this.state.trip.date),r.a.createElement("hr",null))}}]),a}(n.Component),Pe=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trips:[],isLoaded:!1},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;te(this.props.planId).then((function(t){return e.setState({trips:t})})).then((function(t){return e.setState({isLoaded:!1})})).then((function(t){return e.setState({isLoaded:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"wbdv-td-table-body-container"},r.a.createElement("ol",{className:"wbdv-td-list"},this.state.isLoaded&&this.state.trips.map((function(e){return r.a.createElement(Ce,{key:e._id,trip:e})})))))}}]),a}(r.a.Component),Te=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={plan:{},user:{}},L(n.props.match.params.planId).then((function(e){return n.setState({plan:e})})).then((function(e){return S(n.state.plan.user)})).then((function(e){return n.setState({user:e})})),n}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row container-fluid"},r.a.createElement("div",{className:"col-md-6 col-lg-5 border-right min-vh-100"},r.a.createElement("span",{className:"p-2"},r.a.createElement("span",null,r.a.createElement(s.b,{className:"btn wbdv-td-peachy border-0 m-1 wbdv-fixed-btn wbdv-high-index",to:"/plan-forum"},r.a.createElement(p.a,{size:28})),r.a.createElement("h2",{className:"h2 text-center m-2 pb-0 wbdv-td-headline font-weight-bold text-uppercase"},this.state.plan.name),r.a.createElement("h4",{className:"h4 text-center m-2 pb-0 border-bot-3 wbdv-td-headline font-weight-bold text-uppercase"},"By: ",r.a.createElement(s.b,{to:"/public-profile/".concat(this.state.plan.user)},this.state.user.lName," ",this.state.user.fName))),r.a.createElement(Pe,{planId:this.props.match.params.planId}))),r.a.createElement("div",{className:"col-md-6 col-lg-7"},r.a.createElement(f.a,{fluid:!0,style:{height:"100vh"}},r.a.createElement(be,null))))}}]),a}(r.a.Component),Le=a(149),Ae=a.n(Le),Be=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).loadPlans=function(){T().then((function(t){return e.setState({plans:t})}))},e.state={plans:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.loadPlans()}},{key:"render",value:function(){return r.a.createElement("div",{className:"wbdv-card-body-2",style:{backgroundImage:"url(".concat(Ae.a,")")}},r.a.createElement("h1",{className:"h1 text-center py-5 articles__title text-white"},r.a.createElement("em",null,"Plan Forum")),r.a.createElement("ol",{className:"articles"},this.state.plans&&this.state.plans.map((function(e){return r.a.createElement(Z,{key:e._id,plan:e})}))))}}]),a}(r.a.Component),De=function(){return r.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},"Sorry, You Are Not Allowed to Access This Plan")};function Je(){var e=Object(n.useState)(!!localStorage.getItem("accessToken")),t=Object(i.a)(e,2),a=t[0],l=t[1],c=function(e){return l(e)};return r.a.createElement(s.a,null,r.a.createElement(f.a,null,r.a.createElement(h,{isLogin:a,changeLoginStatus:c})),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:["/","/search","/search/:searchText"],component:Oe}),r.a.createElement(o.a,{path:["/results/:placeId"],exact:!0,component:Ie}),r.a.createElement(o.a,{path:"/signin",exact:!0},r.a.createElement(_,{changeLoginStatus:c})),r.a.createElement(o.a,{path:"/signup",exact:!0,component:k}),r.a.createElement(o.a,{path:"/profile",exact:!0,component:M}),r.a.createElement(o.a,{path:"/public-profile",exact:!0,component:W}),r.a.createElement(o.a,{path:"/public-profile/:uid",exact:!0,component:W}),r.a.createElement(o.a,{path:["/user/:uid/plans"],exact:!0,component:X}),r.a.createElement(o.a,{path:["/user/:uid/plans/:planId"],exact:!0,component:ye}),r.a.createElement(o.a,{path:["/plan-error"],exact:!0,component:De}),r.a.createElement(o.a,{path:["/plan-forum"],exact:!0,component:Be}),r.a.createElement(o.a,{path:["/plan-forum/:planId"],exact:!0,component:Te})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,null,r.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a.p+"static/media/illustration-2.cce46cf7.jpg"},84:function(e,t,a){e.exports=a.p+"static/media/avatar.e6fbc5cb.jpg"},99:function(e,t,a){e.exports=a.p+"static/media/illustration-3.6b522b72.jpg"}},[[154,1,2]]]);
//# sourceMappingURL=main.e5a8cd57.chunk.js.map